"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createPilet = exports.createPilets = void 0;
var utils_1 = require("./utils");
var setup_1 = require("./setup");
function checkCreateApi(createApi) {
    if (!utils_1.isfunc(createApi)) {
        console.warn('Invalid `createApi` function. Skipping pilet installation.');
        return false;
    }
    return true;
}
/**
 * Sets up the evaluated pilets to become integrated pilets.
 * @param createApi The function to create an API object for a pilet.
 * @param pilets The available evaluated app pilets.
 * @returns The integrated pilets.
 */
function createPilets(createApi, pilets) {
    var promises = [];
    if (checkCreateApi(createApi)) {
        for (var _i = 0, pilets_1 = pilets; _i < pilets_1.length; _i++) {
            var pilet = pilets_1[_i];
            promises.push(setup_1.setupPilet(pilet, createApi));
        }
    }
    return Promise.all(promises).then(function () { return pilets; });
}
exports.createPilets = createPilets;
/**
 * Sets up an evaluated pilet to become an integrated pilet.
 * @param createApi The function to create an API object for the pilet.
 * @param pilet The available evaluated pilet.
 * @returns The integrated pilet.
 */
function createPilet(createApi, pilet) {
    var promises = [];
    if (checkCreateApi(createApi)) {
        promises.push(setup_1.setupPilet(pilet, createApi));
    }
    return Promise.all(promises).then(function () { return pilet; });
}
exports.createPilet = createPilet;
//# sourceMappingURL=aggregate.js.map