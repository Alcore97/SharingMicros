"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.notifyServerOnline = exports.reorderInjectors = void 0;
const chalk_1 = require("chalk");
const emoji_1 = require("./emoji");
const log_1 = require("./log");
function reorderInjectors(injectorName, injectorConfig, injectors) {
    return Object.assign({ script: injectors.script || {
            active: true,
        }, har: injectors.har || {
            active: true,
        }, json: injectors.json || {
            active: true,
        }, [injectorName]: injectorConfig }, injectors);
}
exports.reorderInjectors = reorderInjectors;
function notifyServerOnline(bundlers, api) {
    return (svc) => {
        log_1.log('generalDebug_0003', `The kras server for debugging is online!`);
        const address = `${svc.protocol}://localhost:${chalk_1.default.green(svc.port)}`;
        log_1.logInfo(`${emoji_1.liveIcon} Running at ${chalk_1.default.bold(address)}`);
        log_1.logInfo(`${emoji_1.settingsIcon} Manage via ${chalk_1.default.bold(address + api)}`);
        log_1.logReset();
        bundlers.forEach((bundler) => bundler.start());
    };
}
exports.notifyServerOnline = notifyServerOnline;
//# sourceMappingURL=injectors.js.map