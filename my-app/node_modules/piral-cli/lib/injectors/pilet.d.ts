/// <reference types="node" />
import { EventEmitter } from 'events';
import { KrasInjector, KrasResponse, KrasRequest, KrasInjectorConfig, KrasConfiguration, KrasResult } from 'kras';
import { Bundler } from '../types';
interface Pilet {
    bundler: Bundler;
    root: string;
    requireRef?: string;
}
export interface PiletInjectorConfig extends KrasInjectorConfig {
    pilets: Array<Pilet>;
    api: string;
    app: string;
    feed?: string;
}
interface PiletMetadata {
    name?: string;
    [key: string]: unknown;
}
export default class PiletInjector implements KrasInjector {
    config: PiletInjectorConfig;
    private piletApi;
    constructor(options: PiletInjectorConfig, config: KrasConfiguration, core: EventEmitter);
    get active(): boolean;
    set active(value: boolean);
    get name(): string;
    getOptions(): {};
    setOptions(): void;
    getMetaOf(index: number): {
        name: any;
        version: any;
        link: string;
        hash: string;
        requireRef: string;
        noCache: boolean;
        custom: any;
    };
    getMeta(): Promise<string>;
    loadRemoteFeed(feed?: string): Promise<Array<PiletMetadata>>;
    mergePilets(localPilets: Array<PiletMetadata>, remotePilets: Array<PiletMetadata>): PiletMetadata[];
    sendContent(content: Buffer | string, type: string, url: string): KrasResponse;
    sendFile(target: string, url: string): KrasResponse;
    sendResponse(path: string, url: string): Promise<KrasResult>;
    sendIndexFile(target: string, url: string): KrasResponse;
    handle(req: KrasRequest): KrasResponse;
}
export {};
