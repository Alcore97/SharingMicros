import { __assign } from "tslib";
import * as React from 'react';
import { useGlobalState } from 'piral-core';
import { PiralDashboardContainer, PiralDashboardTile } from './components';
export var Dashboard = function (props) {
    var tiles = useGlobalState(function (s) { return s.registry.tiles; });
    var _a = props.filter, filter = _a === void 0 ? function () { return true; } : _a;
    var children = Object.keys(tiles)
        .filter(function (tile) { return filter(tiles[tile]); })
        .map(function (tile) {
        var _a = tiles[tile], Component = _a.component, preferences = _a.preferences;
        var _b = preferences.initialColumns, initialColumns = _b === void 0 ? 1 : _b, _c = preferences.initialRows, initialRows = _c === void 0 ? 1 : _c, _d = preferences.resizable, resizable = _d === void 0 ? false : _d;
        return (React.createElement(PiralDashboardTile, { key: tile, columns: initialColumns, rows: initialRows, resizable: resizable, meta: preferences },
            React.createElement(Component, { columns: initialColumns, rows: initialRows })));
    });
    return React.createElement(PiralDashboardContainer, __assign({}, props, { children: children }));
};
Dashboard.displayName = 'Dashboard';
//# sourceMappingURL=Dashboard.js.map