"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Dashboard = void 0;
var tslib_1 = require("tslib");
var React = require("react");
var piral_core_1 = require("piral-core");
var components_1 = require("./components");
var Dashboard = function (props) {
    var tiles = piral_core_1.useGlobalState(function (s) { return s.registry.tiles; });
    var _a = props.filter, filter = _a === void 0 ? function () { return true; } : _a;
    var children = Object.keys(tiles)
        .filter(function (tile) { return filter(tiles[tile]); })
        .map(function (tile) {
        var _a = tiles[tile], Component = _a.component, preferences = _a.preferences;
        var _b = preferences.initialColumns, initialColumns = _b === void 0 ? 1 : _b, _c = preferences.initialRows, initialRows = _c === void 0 ? 1 : _c, _d = preferences.resizable, resizable = _d === void 0 ? false : _d;
        return (React.createElement(components_1.PiralDashboardTile, { key: tile, columns: initialColumns, rows: initialRows, resizable: resizable, meta: preferences },
            React.createElement(Component, { columns: initialColumns, rows: initialRows })));
    });
    return React.createElement(components_1.PiralDashboardContainer, tslib_1.__assign({}, props, { children: children }));
};
exports.Dashboard = Dashboard;
exports.Dashboard.displayName = 'Dashboard';
//# sourceMappingURL=Dashboard.js.map