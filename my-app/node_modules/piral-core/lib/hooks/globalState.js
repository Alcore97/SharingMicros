"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useGlobalState = void 0;
var react_1 = require("react");
var react_atom_1 = require("@dbeining/react-atom");
var stateContext_1 = require("../state/stateContext");
var useGlobalAtom = typeof window !== 'undefined' ? react_atom_1.useAtom : useDirectAtom;
function useDirectAtom(atom, opts) {
    var state = react_atom_1.deref(atom);
    var select = opts && opts.select;
    return typeof select === 'function' ? select(state) : state;
}
function useGlobalState(select) {
    var state = react_1.useContext(stateContext_1.StateContext).state;
    return useGlobalAtom(state, select && { select: select });
}
exports.useGlobalState = useGlobalState;
//# sourceMappingURL=globalState.js.map