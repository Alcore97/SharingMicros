"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ExtensionSlot = void 0;
var tslib_1 = require("tslib");
var React = require("react");
var piral_base_1 = require("piral-base");
var hooks_1 = require("../hooks");
var utils_1 = require("../utils");
/**
 * The extension slot component to be used when the available
 * extensions of a given name should be rendered at a specific
 * location.
 */
function ExtensionSlot(props) {
    var name = props.name, _a = props.render, render = _a === void 0 ? utils_1.defaultRender : _a, empty = props.empty, params = props.params;
    var extensions = hooks_1.useGlobalState(function (s) { return s.registry.extensions[name] || []; });
    return render(extensions.length === 0 && piral_base_1.isfunc(empty)
        ? [utils_1.defaultRender(empty(), 'empty')]
        : extensions.map(function (_a, i) {
            var Component = _a.component, reference = _a.reference, _b = _a.defaults, defaults = _b === void 0 ? {} : _b;
            return (React.createElement(Component, { key: "" + ((reference === null || reference === void 0 ? void 0 : reference.displayName) || '_') + i, params: tslib_1.__assign(tslib_1.__assign({}, defaults), (params || {})) }));
        }));
}
exports.ExtensionSlot = ExtensionSlot;
ExtensionSlot.displayName = "ExtensionSlot";
//# sourceMappingURL=ExtensionSlot.js.map