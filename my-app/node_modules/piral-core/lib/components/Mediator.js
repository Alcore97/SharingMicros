"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Mediator = void 0;
var React = require("react");
var piral_base_1 = require("piral-base");
var hooks_1 = require("../hooks");
/**
 * The Mediator component for interfacing with pilets loading.
 */
var Mediator = function (_a) {
    var options = _a.options;
    var initialize = hooks_1.useAction('initialize');
    React.useEffect(function () {
        var _a = piral_base_1.startLoadingPilets(options), connect = _a.connect, disconnect = _a.disconnect;
        var notifier = function (error, pilets, loaded) {
            initialize(!loaded, error, pilets);
        };
        connect(notifier);
        return function () { return disconnect(notifier); };
    }, []);
    // tslint:disable-next-line:no-null-keyword
    return null;
};
exports.Mediator = Mediator;
//# sourceMappingURL=Mediator.js.map