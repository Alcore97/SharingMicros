"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ResponsiveLayout = void 0;
var React = require("react");
var hooks_1 = require("../hooks");
var utils_1 = require("../utils");
/**
 * The component capable of identifying and switching the currently used layout.
 */
var ResponsiveLayout = function (_a) {
    var _b = _a.breakpoints, breakpoints = _b === void 0 ? utils_1.defaultBreakpoints : _b, children = _a.children;
    var current = hooks_1.useGlobalState(function (m) { return m.app.layout; }) || 'desktop';
    var changeTo = hooks_1.useAction('changeLayout');
    var selected = hooks_1.useMedia(breakpoints, utils_1.defaultLayouts, current);
    React.useEffect(function () {
        if (selected !== current) {
            changeTo(selected);
        }
    }, [selected]);
    return utils_1.defaultRender(children);
};
exports.ResponsiveLayout = ResponsiveLayout;
exports.ResponsiveLayout.displayName = 'ResponsiveLayout';
//# sourceMappingURL=ResponsiveLayout.js.map