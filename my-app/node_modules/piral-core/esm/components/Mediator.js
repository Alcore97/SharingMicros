import * as React from 'react';
import { startLoadingPilets } from 'piral-base';
import { useAction } from '../hooks';
/**
 * The Mediator component for interfacing with pilets loading.
 */
export var Mediator = function (_a) {
    var options = _a.options;
    var initialize = useAction('initialize');
    React.useEffect(function () {
        var _a = startLoadingPilets(options), connect = _a.connect, disconnect = _a.disconnect;
        var notifier = function (error, pilets, loaded) {
            initialize(!loaded, error, pilets);
        };
        connect(notifier);
        return function () { return disconnect(notifier); };
    }, []);
    // tslint:disable-next-line:no-null-keyword
    return null;
};
//# sourceMappingURL=Mediator.js.map