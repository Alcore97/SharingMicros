import { __assign } from "tslib";
import * as React from 'react';
import { isfunc } from 'piral-base';
import { useGlobalState } from '../hooks';
import { defaultRender } from '../utils';
/**
 * The extension slot component to be used when the available
 * extensions of a given name should be rendered at a specific
 * location.
 */
export function ExtensionSlot(props) {
    var name = props.name, _a = props.render, render = _a === void 0 ? defaultRender : _a, empty = props.empty, params = props.params;
    var extensions = useGlobalState(function (s) { return s.registry.extensions[name] || []; });
    return render(extensions.length === 0 && isfunc(empty)
        ? [defaultRender(empty(), 'empty')]
        : extensions.map(function (_a, i) {
            var Component = _a.component, reference = _a.reference, _b = _a.defaults, defaults = _b === void 0 ? {} : _b;
            return (React.createElement(Component, { key: "" + ((reference === null || reference === void 0 ? void 0 : reference.displayName) || '_') + i, params: __assign(__assign({}, defaults), (params || {})) }));
        }));
}
ExtensionSlot.displayName = "ExtensionSlot";
//# sourceMappingURL=ExtensionSlot.js.map