import * as React from 'react';
import { useMedia, useGlobalState, useAction } from '../hooks';
import { defaultLayouts, defaultRender, defaultBreakpoints } from '../utils';
/**
 * The component capable of identifying and switching the currently used layout.
 */
export var ResponsiveLayout = function (_a) {
    var _b = _a.breakpoints, breakpoints = _b === void 0 ? defaultBreakpoints : _b, children = _a.children;
    var current = useGlobalState(function (m) { return m.app.layout; }) || 'desktop';
    var changeTo = useAction('changeLayout');
    var selected = useMedia(breakpoints, defaultLayouts, current);
    React.useEffect(function () {
        if (selected !== current) {
            changeTo(selected);
        }
    }, [selected]);
    return defaultRender(children);
};
ResponsiveLayout.displayName = 'ResponsiveLayout';
//# sourceMappingURL=ResponsiveLayout.js.map