"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useFeed = void 0;
var react_1 = require("react");
var piral_core_1 = require("piral-core");
/**
 * Hook that returns the connected feed.
 * @param options The options for retrieving the feed.
 */
function useFeed(options) {
    var _a = piral_core_1.useGlobalState(function (s) { return s.feeds[options.id]; }), loaded = _a.loaded, loading = _a.loading, error = _a.error, data = _a.data;
    var load = piral_core_1.useAction('loadFeed');
    react_1.useEffect(function () {
        if (!loaded && !loading) {
            load(options);
        }
    }, [loaded]);
    return [loaded, data, error];
}
exports.useFeed = useFeed;
//# sourceMappingURL=useFeed.js.map